<%@ Page Language="C#" AutoEventWireup="true" CodeBehind="Normalinspection.aspx.cs" Inherits="FreeLayout.QCC.Normalinspection" %>

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title>QC Normal Inspection</title>
    <link rel="stylesheet" href="/plugins/fontawesome-free/css/all.min.css" />
    <link rel="stylesheet" href="/plugins/datatables-bs4/css/dataTables.bootstrap4.min.css" />
    <link rel="stylesheet" href="/plugins/datatables-responsive/css/responsive.bootstrap4.min.css" />
    <link rel="stylesheet" href="/dist/css/adminlte.min.css" />

    <link rel="stylesheet" href="/plugins/toastr/toastr.css" />
    <%--<link rel="stylesheet" href="/plugins/toastr/toastr.min.css" />--%>
    <script src="/plugins/jquery/jquery.min.js"></script>
    <script src="/plugins/toastr/toastr.js"></script>


    <link rel="stylesheet" href="/plugins/fontawesome-free/css/jquery-ui.css" />
    <%--/plugins/fontawesome-free/css/images--%>
</head>
<body>
    <form id="form1" runat="server">
        <div class="card"> 
           <div class="card-header">           
                <h1>Material list to check for Normal Inspection</h1>
                <%--class="card-title"--%>
                <div class="col-sm-12">                
                    Delivery Date:
                                    <input type="text" id="datepicker" runat="server">
                    <button class="btn btn-primary" type="button" runat="server" onserverclick="Search_Date_Click">
                        <i class="fa fa-fw fa-lg fa-search"></i>Filter</button>


                    <button type="button" class="btn" style="margin-left: 50px; background-color: #EEEEEE" runat="server" onserverclick="Filter_Checking_Click">
                        Checking
                    </button>
                    <button type="button" class="btn" style="margin-left: 20px; background-color: #FFFF99" runat="server" onserverclick="Filter_Wating_Click">
                        Waiting
                    </button>
                    <button type="button" class="btn" style="margin-left: 20px; background-color: #66FF33" runat="server" onserverclick="Filter_Finished_Click">
                        Finished
                    </button>

                    <button type="button" class="btn" style="margin-left: 20px; background-color: red" runat="server" onserverclick="Filter_Urgent_Click">
                        Urgent
                    </button>                       

                </div>

                <div class="col-md-3" style="float: left">
                        <div class="form-group">
                            <label for="Group">Filter Item Status</label>
                            <asp:DropDownList ID="dr_filter_qc" runat="server"
                                AppendDataBoundItems="true"
                                DataTextField="NameFilter"
                                DataValueField="NameFilter"
                                CssClass="custom-select custom-select-sm form-control form-control-sm">
                            </asp:DropDownList>
                        </div>
                    </div>

                    <div class="col-md-3" style="float: left">
                        <div class="form-group">
                            <label for="Group">Filter Category</label>
                            <asp:DropDownList ID="dr_filter_cate" runat="server"
                                AppendDataBoundItems="true"
                                DataTextField="NameFilter"
                                DataValueField="NameFilter"
                                CssClass="custom-select custom-select-sm form-control form-control-sm">
                            </asp:DropDownList>
                        </div>
                    </div>


            </div>
        </div>

        <div class="row">

            <table id="example1" class="table table-bordered table-hover table-condensed">
                <thead>
                    <tr>
                        <th>No</th>
                        <th>Lot date</th>
                        <th>Invoice</th>
                        <th>Vendor Name</th>
                        <th>Category</th>
                        <th>Part No</th>
                        <th>Lot Q'ty</th>
                        <th>Receiving Time MCS</th>
                        <th>QC-check Time</th>
                        <th>Check OK Time</th>
                        <th>Free location (Pallet)</th>
                        <%-- <th>Storing time</th>--%>
                        <th>Location store</th>
                        <th>Remark</th>

                        <th>Mode</th>
                        <th>Level</th>
                        <th>Sample position</th>
                        <th>Q'ty Sampling</th>

                        <th>Testing kind</th>
                        <th>Q'ty test</th>
                        <th>IQC Checking sittuation</th>
                        <th>Qty NG</th>
                        <th>Defect</th>
                        <th></th>
                        <th></th>
                        <th></th>
                        <%--<th></th>--%>
                    </tr>
                </thead>
                <tbody>
                    <%int i = 0; %>
                    <%foreach (System.Data.DataRow rows in dt.Rows)
                        {%>
                    <%i++;%>


                    <%if (rows[13].ToString() == "pending")
                        {%>
                    <%if (rows[15].ToString() == "Urgent")
                        {%>
                    <tr style="background-color: #EEEEEE">
                        <td><%=i %></td>
                        <td><%=rows[20].ToString() %></td>
                        <td><%=rows[6].ToString() %></td>
                        <td><%=rows[4].ToString() %></td>
                        <td>cate</td>
                        <td><%=rows[1].ToString() %></td>
                        <td><%=rows[5].ToString() %></td>
                        <td><%=rows[11].ToString() %></td>
                        <td><%=rows[16].ToString() %></td>
                        <td><%=rows[17].ToString() %></td>
                        <td><%=rows[2].ToString() %></td>
                        <%-- <td>time MCS2</td>--%>
                        <td><%=rows[27].ToString() %></td>
                        <td><%=rows[15].ToString() %><i class="far fa-bell"></i></td>
                        <td></td>
                        <td></td>
                        <td><%=rows[25].ToString() %></td>
                        <td><%=rows[26].ToString() %></td>
                        <td><%=rows[22].ToString() %></td>
                        <td><%=rows[19].ToString() %></td>
                        <td><%=rows[18].ToString() %></td>
                        <td><%=rows[23].ToString() %></td>
                        <td><%=rows[24].ToString() %></td>
                        <td>
                            <a href="#" title="Check item"><i class="fas fa-pencil-alt"></i></a>
                        </td>
                        <td>
                            <a href="#" title="Finished" onclick="openEditModal2('<%= rows[0].ToString() %>','<%= rows[1].ToString() %>')">
                                <i class="fas fa-save"></i></a>
                        </td>
                        <td>
                            <a href="#" title="Remove check"><i class="far fa-trash-alt"></i></a>
                        </td>
                        <%-- <td>
                            <a href="#" title="return stock MCS"><i class="fas fa-sync-alt" ></i></a>
                        </td>--%>
                    </tr>
                    <%} %>
                    <%else
                        { %>
                    <tr style="background-color: #EEEEEE">
                        <td><%=i %></td>
                        <td><%=rows[20].ToString() %></td>
                        <td><%=rows[6].ToString() %></td>
                        <td><%=rows[4].ToString() %></td>
                        <td>cate</td>
                        <td><%=rows[1].ToString() %></td>
                        <td><%=rows[5].ToString() %></td>
                        <td><%=rows[11].ToString() %></td>
                        <td><%=rows[16].ToString() %></td>
                        <td><%=rows[17].ToString() %></td>
                        <td><%=rows[2].ToString() %></td>
                        <%--<td>time MCS2</td>--%>
                        <td><%=rows[27].ToString() %></td>
                        <td><%=rows[15].ToString() %></td>
                        <td></td>
                        <td></td>
                        <td><%=rows[25].ToString() %></td>
                        <td><%=rows[26].ToString() %></td>
                        <td><%=rows[22].ToString() %></td>
                        <td><%=rows[19].ToString() %></td>
                        <td><%=rows[18].ToString() %></td>
                        <td><%=rows[23].ToString() %></td>
                        <td><%=rows[24].ToString() %></td>
                        <td>
                            <a href="#" title="Check item"><i class="fas fa-pencil-alt"></i></a>
                        </td>
                        <td>
                            <a href="#" title="Finished" onclick="openEditModal2('<%= rows[0].ToString() %>','<%= rows[1].ToString() %>')"><i class="fas fa-save"></i></a>
                        </td>
                        <td>
                            <a href="#" title="Remove check"><i class="far fa-trash-alt"></i></a>
                        </td>
                        <%-- <td>
                            <a href="#" title="return stock MCS"><i class="fas fa-sync-alt" ></i></a>
                        </td>--%>
                    </tr>
                    <%} %>
                    <%} %>

                    <%else if (rows[13].ToString() == "finished")
                        {%>
                    <tr style="background-color: #66FF33">
                        <td><%=i %></td>
                        <td><%=rows[20].ToString() %></td>
                        <td><%=rows[6].ToString() %></td>
                        <td><%=rows[4].ToString() %></td>
                        <td>cate</td>
                        <td><%=rows[1].ToString() %></td>
                        <td><%=rows[5].ToString() %></td>
                        <td><%=rows[11].ToString() %></td>
                        <td><%=rows[16].ToString() %></td>
                        <td><%=rows[17].ToString() %></td>
                        <td><%=rows[2].ToString() %></td>
                        <%--<td>time MCS2</td>--%>
                        <td><%=rows[27].ToString() %></td>
                        <td><%=rows[15].ToString() %></td>
                        <td></td>
                        <td></td>
                        <td><%=rows[25].ToString() %></td>
                        <td><%=rows[26].ToString() %></td>
                        <td><%=rows[22].ToString() %></td>
                        <td><%=rows[19].ToString() %></td>
                        <td><%=rows[18].ToString() %></td>
                        <td><%=rows[23].ToString() %></td>
                        <td><%=rows[24].ToString() %></td>
                        <td>
                            <a href="#" title="Check item"><i class="fas fa-pencil-alt"></i></a>
                        </td>
                        <td>
                            <a href="#" title="Finished" onclick="openEditModal2('<%= rows[0].ToString() %>','<%= rows[1].ToString() %>')"><i class="fas fa-save"></i></a>
                        </td>
                        <td>
                            <a href="#" title="Remove check"><i class="far fa-trash-alt"></i></a>
                        </td>
                        <%-- <td>
                            <a href="#" title="return stock MCS" onclick="openEditModal3('<%= rows[0].ToString() %>','<%= rows[1].ToString() %>','<%= rows[2].ToString() %>','<%= rows[27].ToString() %>')">
                                <i class="fas fa-sync-alt" ></i>
                            </a>
                        </td>--%>
                    </tr>
                    <%} %>

                    <%else
                        {%>
                    <%if (rows[15].ToString() == "Urgent")
                        {%>
                    <tr style="background-color: #FF0000">
                        <td><%=i %></td>
                        <td><%=rows[20].ToString() %></td>
                        <td><%=rows[6].ToString() %></td>
                        <td><%=rows[4].ToString() %></td>
                        <td>cate</td>
                        <td><a href="/Main.aspx?material=<%=rows[1].ToString() %>" target="_blank"><%=rows[1].ToString() %></td>
                        <td><%=rows[5].ToString() %></td>
                        <td><%=rows[11].ToString() %></td>
                        <td><%=rows[16].ToString() %></td>
                        <td><%=rows[17].ToString() %></td>
                        <td><%=rows[2].ToString() %></td>
                        <%-- <td>time MCS2</td>--%>
                        <td><%=rows[27].ToString() %></td>
                        <td><%=rows[15].ToString() %><i class="far fa-bell"></i></td>
                        <td></td>
                        <td></td>
                        <td><%=rows[25].ToString() %></td>
                        <td><%=rows[26].ToString() %></td>
                        <td><%=rows[22].ToString() %></td>
                        <td><%=rows[19].ToString() %></td>
                        <td><%=rows[18].ToString() %></td>
                        <td><%=rows[23].ToString() %></td>
                        <td><%=rows[24].ToString() %></td>
                        <td>
                            <a href="#" title="Check item" id="<%= rows[0].ToString() %>" onclick="openEditModal('<%= rows[0].ToString() %>','<%= rows[1].ToString() %>','<%= rows[2].ToString() %>','<%= rows[5].ToString() %>','<%= rows[6].ToString() %>')">
                                <i class="fas fa-pencil-alt"></i>
                            </a>
                        </td>
                        <td>
                            <a href="#" title="Finished">
                                <i class="fas fa-save"></i>
                            </a>
                        </td>
                        <td>
                            <a href="#" title="Remove check" onclick="openEditModal4('<%= rows[0].ToString() %>','<%= rows[1].ToString() %>','<%= rows[2].ToString() %>')"><i class="far fa-trash-alt"></i></a>
                        </td>
                        <%--<td>
                            <a href="#" title="return stock MCS"><i class="fas fa-sync-alt" ></i></a>
                        </td>--%>
                    </tr>
                    <%} %>
                    <%else
                        { %>
                    <tr style="background-color: #FFFF99">
                        <td><%=i %></td>
                        <td><%=rows[20].ToString() %></td>
                        <td><%=rows[6].ToString() %></td>
                        <td><%=rows[4].ToString() %></td>
                        <td>cate</td>
                        <td><a href="/Main.aspx?material=<%=rows[1].ToString() %>" target="_blank"><%=rows[1].ToString() %></td>
                        <td><%=rows[5].ToString() %></td>
                        <td><%=rows[11].ToString() %></td>
                        <td><%=rows[16].ToString() %></td>
                        <td><%=rows[17].ToString() %></td>
                        <td><%=rows[2].ToString() %></td>
                        <%--<td>time MCS2</td>--%>
                        <td><%=rows[27].ToString() %></td>
                        <td><%=rows[15].ToString() %></td>
                        <td></td>
                        <td></td>
                        <td><%=rows[25].ToString() %></td>
                        <td><%=rows[26].ToString() %></td>
                        <td><%=rows[22].ToString() %></td>
                        <td><%=rows[19].ToString() %></td>
                        <td><%=rows[18].ToString() %></td>
                        <td><%=rows[23].ToString() %></td>
                        <td><%=rows[24].ToString() %></td>
                        <td>
                            <a href="#" title="Check item" id="<%= rows[0].ToString() %>" onclick="openEditModal('<%= rows[0].ToString() %>','<%= rows[1].ToString() %>','<%= rows[2].ToString() %>','<%= rows[5].ToString() %>','<%= rows[6].ToString() %>')">
                                <i class="fas fa-pencil-alt"></i>
                            </a>
                        </td>
                        <td>
                            <a href="#" title="Finished">
                                <i class="fas fa-save"></i>
                            </a>
                        </td>
                        <td>
                            <a href="#" title="Remove check" onclick="openEditModal4('<%= rows[0].ToString() %>','<%= rows[1].ToString() %>','<%= rows[2].ToString() %>')"><i class="far fa-trash-alt"></i></a>
                        </td>
                        <%--<td>
                            <a href="#" title="return stock MCS"><i class="fas fa-sync-alt" ></i></a>
                        </td>--%>
                    </tr>

                    <%} %>


                    <%} %>



                    <%} %>
                </tbody>
            </table>
        </div>

        <div class="modal" id="myModal4">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <div class="row">
                            <div>
                                <h4 class="modal-title" id="headerTag" style="float: left">Do you want to delete item check? </h4>

                                <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="float: right; margin-left: 300px;">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>

                        </div>
                    </div>

                    <%-- Modal footer --%>
                    <div class="modal-body">
                        <div class="container-fluid">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="ID">ID</label>
                                        <span style="color: green; font-size: 11px; font-style: italic;">(Read only)</span>
                                        <asp:TextBox ID="ID4" CssClass="form-control" placeholder="" runat="server"></asp:TextBox>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="exampleInputEmail1">Material</label>
                                        <asp:TextBox ID="material4" CssClass="form-control" placeholder="" runat="server"></asp:TextBox>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="QtyNG">Pallet ID</label>
                                        <asp:TextBox ID="palletid4" CssClass="form-control" placeholder="" runat="server"></asp:TextBox>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="exampleInputEmail1">UserID</label>
                                        <span style="color: red; font-size: 11px; font-style: italic;">You must input!(*)</span>
                                        <asp:TextBox ID="txtuseridxoa" CssClass="form-control" placeholder="" runat="server"></asp:TextBox>   
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-dismiss="modal"><i class="fas fa-times"></i>Close</button>
                        <button type="button" runat="server" id="btnremoveitem" onserverclick="BtnRemoveItem" class="btn btn-primary">
                            <i class="fas fa-download"></i>
                            Save
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal" id="myModal3">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <div class="row">
                            <div>
                                <h4 class="modal-title" id="headerTag" style="float: left">Return MCS Stock</h4>

                                <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="float: right; margin-left: 300px;">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>

                        </div>
                    </div>

                    <%-- Modal footer --%>
                    <div class="modal-body">
                        <div class="container-fluid">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="ID">ID</label>
                                        <span style="color: green; font-size: 11px; font-style: italic;">(Read only)</span>
                                        <asp:TextBox ID="ID3" CssClass="form-control" placeholder="" runat="server"></asp:TextBox>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="exampleInputEmail1">Material</label>
                                        <asp:TextBox ID="material3" CssClass="form-control" placeholder="" runat="server"></asp:TextBox>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="QtyNG">Pallet ID</label>
                                        <asp:TextBox ID="palletid" CssClass="form-control" placeholder="" runat="server"></asp:TextBox>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="exampleInputEmail1">Location Storage</label>
                                        <asp:TextBox ID="storageMCS" CssClass="form-control" placeholder="" runat="server"></asp:TextBox>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-dismiss="modal"><i class="fas fa-times"></i>Close</button>
                        <button type="button" runat="server" id="Button2" onserverclick="BtnReturnMCS" class="btn btn-primary">
                            <i class="fas fa-download"></i>
                            Save
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal" id="myModal2">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <div class="row">
                            <div>
                                <h4 class="modal-title" id="headerTag" style="float: left">Select Ok / NG</h4>

                                <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="float: right; margin-left: 300px;">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>

                        </div>
                    </div>

                    <%-- Modal footer --%>
                    <div class="modal-body">
                        <div class="container-fluid">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="ID">ID</label>
                                        <span style="color: green; font-size: 11px; font-style: italic;">(Read only)</span>
                                        <asp:TextBox ID="ID2" CssClass="form-control" placeholder="ID" runat="server"></asp:TextBox>
                                        <%--onserverclick="btnAddClick"--%>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="exampleInputEmail1">Material</label>
                                        <asp:TextBox ID="Material2" CssClass="form-control" placeholder="Material" runat="server"></asp:TextBox>
                                        <%-- end add Modal --%>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="QtyNG">Qty NG</label>
                                        <asp:TextBox ID="_QTYNG" CssClass="form-control" placeholder="" runat="server"></asp:TextBox>
                                        <%--onserverclick="btnAddClick"--%>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="exampleInputEmail1">Error Name</label>
                                        <asp:TextBox ID="namemistake" CssClass="form-control" placeholder="" runat="server"></asp:TextBox>
                                        <%-- end add Modal --%>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="QtyNG">UserID</label>
                                        <span style="color: red; font-size: 11px; font-style: italic;">You must input!(*)</span>
                                        <asp:TextBox ID="txtuserfinished" CssClass="form-control" placeholder="" runat="server"></asp:TextBox>
                                        <%--onserverclick="btnAddClick"--%>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <asp:RadioButton ID="RadioButton1" GroupName="Passport" Text="OK" runat="server" Checked="true" onclick="ShowHideDiv()" />
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <asp:RadioButton ID="RadioButton2" GroupName="Passport" Text="NG" runat="server" onclick="ShowHideDiv()" />
                                        <div id="dvPassport" style="display: none">
                                            go<input type="text" id="txtPassportNumber" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <%--<input runat="server" type="text" class="form-control" name="username" placeholder="Enter user name">--%>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-dismiss="modal"><i class="fas fa-times"></i>Close</button>
                        <button type="button" runat="server" id="Button1" onserverclick="BtnFinish" class="btn btn-primary"><i class="fas fa-download"></i>Save</button>
                        <%--<input runat="server" type="text" class="form-control" name="fullname" placeholder="Enter full name">--%>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal" id="myModal">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <div class="row">
                            <div>
                                <h4 class="modal-title" id="headerTag" style="float: left">Check Cargo</h4>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="float: right; margin-left: 300px;">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="col-md-12">
                                <label for="Group" id="_comment2" runat="server"></label>
                                <label for="Group" id="_documnet2" runat="server"></label>
                            </div>
                            <div class="col-md-12">
                                <label for="Group" id="_comment" runat="server"></label>
                                <label for="Group" id="_documnet" runat="server"></label>
                                <button type="button" id="openfile" class="btn btn-primary" runat="server" onserverclick="openfile_Click">Open file</button>
                            </div>
                        </div>
                    </div>

                    <%-- Modal footer --%>
                    <div class="modal-body">
                        <div class="container-fluid">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="ID">ID</label>
                                        <span style="color: green; font-size: 11px; font-style: italic;">(Read only)</span>
                                        <asp:TextBox ID="idcheck" CssClass="form-control" placeholder="ID" runat="server"></asp:TextBox>
                                        <%--onserverclick="btnAddClick"--%>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="exampleInputEmail1">Material</label>
                                        <asp:TextBox ID="material" CssClass="form-control" placeholder="Material" runat="server"></asp:TextBox>
                                        <%-- end add Modal --%>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="exampleInputEmail1">Location</label>
                                        <asp:TextBox ID="location" CssClass="form-control" placeholder="location" runat="server"></asp:TextBox>
                                        <%-- The edit Modal --%>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="exampleInputEmail1">Invoice</label>
                                        <asp:TextBox ID="Invoice" CssClass="form-control" placeholder="Invoice" runat="server"></asp:TextBox>

                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="exampleInputEmail1">Qty Lot Receiving MCS </label>
                                        <asp:TextBox ID="Qty" CssClass="form-control" placeholder="Qty" runat="server"></asp:TextBox>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="Group">Qty Sample</label>
                                        <span style="color: red; font-size: 11px; font-style: italic;">You have to select!(*)</span>
                                        <asp:TextBox ID="Qtysmaple" CssClass="form-control" placeholder="Qty Sample" runat="server"></asp:TextBox>
                                        <%-- <asp:DropDownList ID="dr_TypeChek" runat="server" AppendDataBoundItems="true" CssClass="form-control">
                                            </asp:DropDownList>--%>
                                    </div>
                                </div>

                            </div>


                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <%-- <label for="Group" id="test" runat="server"></label>--%>
                                        <label for="Group">Qty Testing</label>
                                        <span style="color: red; font-size: 11px; font-style: italic;">You have to select!(*)</span>
                                        <asp:TextBox ID="Qtytest" CssClass="form-control" placeholder="Qty Testing" runat="server"></asp:TextBox>
                                    </div>                                    
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group">                                       
                                        <label for="Group">UserID</label>
                                        <span style="color: red; font-size: 11px; font-style: italic;">You must to select!(*)</span>
                                        <asp:TextBox ID="txtusercheck" CssClass="form-control" placeholder="" runat="server"></asp:TextBox>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <%--<input runat="server" type="text" class="form-control" name="username" placeholder="Enter user name">--%>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-dismiss="modal"><i class="fas fa-times"></i>Close</button>
                        <button type="button" runat="server" id="btnadd" onserverclick="BtnAddClick" class="btn btn-primary"><i class="fas fa-download"></i>Save</button>
                        <%--<input runat="server" type="text" class="form-control" name="fullname" placeholder="Enter full name">--%>
                    </div>
                </div>
            </div>
        </div>
    </form>






    <script src="/plugins/jquery/jquery.min.js"></script>
    <script src="/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="/plugins/datatables/jquery.dataTables.min.js"></script>
    <script src="/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js"></script>
    <script src="/plugins/datatables-responsive/js/dataTables.responsive.min.js"></script>
    <script src="/plugins/datatables-responsive/js/responsive.bootstrap4.min.js"></script>
    <script src="/dist/js/adminlte.min.js"></script>
    <script src="/dist/js/demo.js"></script>


    <script type="text/javascript">
        $(document).ready(function () {
            $("#openfile").css("display", "none");

            //OK or NG deu nhap duoc het
            //$('#_QTYNG').prop("readonly", true);
            //$('#namemistake').prop("readonly", true);           

            $('#idcheck').prop("readonly", true);
            $('#material').prop("readonly", true);
            $('#material').prop("readonly", true);
            $('#location').prop("readonly", true);
            $('#Invoice').prop("readonly", true);
            $('#Qty').prop("readonly", true);

            $('#ID2').prop("readonly", true);
            $('#Material2').prop("readonly", true);

            $('#ID4').prop("readonly", true);
            $('#material4').prop("readonly", true);
            $('#palletid4').prop("readonly", true);

        });

        function ShowHideDiv() {
            var _OK = document.getElementById("<%=RadioButton1.ClientID %>");
            var dvPassport = document.getElementById("dvPassport");
            //dvPassport.style.display = chkYes.checked ? "block" : "none";

        }

        //$("input[type=radio][id*=RadioButton2]").click(function () {
        //        if ($(this).val() == "Yes")
        //            alert('true');
        //    else
        //            alert('fail');
        //            //$("div[id*=Panel2]").hide();
        //});

        $('#_QTYNG').on('keyup', function () {
            var val = $(this).val();
            if (isNaN(val)) {
                val = val.replace(/[^0-9\.]/g, '');
                if (val.split('.').length > 2)
                    val = val.replace(/\.+$/, "");
            }
            $(this).val(val);
        })

        $("#RadioButton2").change(function () {
            if ($(this).val() == "Yes") {
                //alert($(this).val());
                alert('true');
            }
            else {
                //alert('fail');
                //alert($(this).val());

                //$('#_QTYNG').prop("readonly", false);
                //$('#namemistake').prop("readonly", false);
                $('#_QTYNG').select();
            }
        });

        //$("#btnremoveitem").click(function () {
        //    alert('aaa');
        //    //$("#txtuseridxoa").text("");
        //});

        $("#dr_filter_qc").change(function () {
            if (this.value === 'Checking') {
                var _date = $("#datepicker").val();
                alert(_date);
                //alert("Checking");
                //window.location.href = "Normalinspection.aspx?typefilter=" + this.value;
            }
            else if (this.value === 'Waiting')
            {
                alert("Waiting");
            }
            else if (this.value === 'Finished')
            {
                alert("Finished");
            }
            else if (this.value === 'Urgent')
            {
                alert("Urgent");
            }
            else if (this.value === 'Item removed')
            {
                alert("Item removed");
            }
            else
            {
                //khong lam gi
                //==select==
            }
        });

        //$("#dr_TypeChek").change(function () {
        //    if (this.value === 'WIdocument') {
        //        //alert("vao day");
        //        var material = $("#material").val();
        //        var data = { material: material };
        //        $.ajax({
        //            type: "POST",
        //            contentType: "application/json; charset=utf-8",
        //            url: "Normalinspection.aspx/getdocumentWI",
        //            data: JSON.stringify(data),
        //            dataType: "json",
        //            success: function (data) {
        //                if (data.d == 'Chua co document WI!') {
        //                    $("#test").text(data.d);
        //                    $("#openfile").css("display", "none");
        //                } else {
        //                    $("#test").text(data.d);
        //                    $("#openfile").css("display", "block");
        //                }

        //            },
        //            error: function () {

        //            }
        //        });
        //    }
        //    else if (this.value === '==Select==') {
        //        $("#test").text('Ban phai cho loai check!');
        //        $("#openfile").css("display", "none");
        //    }
        //    else {
        //        //alert("vao day2");
        //        $("#test").text('Hang dua ve QCC Room');
        //        $("#openfile").css("display", "none");
        //        //openfile

        //    }
        //});

        //$("#openfile").click(function () {
        //    var path = $("#_documnet").text();
        //    //System.Diagnostics.Process.Start("explorer.exe", path);
        //    //window.open(path);
        //    //window.open(path,"window2","");
        //    //"url of .xls","window2",""

        //})      

        $(function () {
            $("#example1").DataTable({
                "responsive": true,
                "autoWidth": false,
                //"order": [[7, "desc"]],
                "pageLength": 50
                //"ordering": true,
                //"paging": true,
                //"lengthChange": false,
                //"searching": false,
                //"info": true,                    
            });
        });

        function openEditModal2(txt_id, txt_mahang) {
            $("#ID2").val(txt_id);
            $("#Material2").val(txt_mahang);

            $("#RadioButton1").prop('checked', true);
            //$('#_QTYNG').prop("readonly", true);
            //$('#namemistake').prop("readonly", true);
            $('#_QTYNG').val('');
            $('#namemistake').val('');

            $('#myModal2').modal('show');

        }

        function openEditModal3(txt_id, txt_mahang, txt_pallet, txt_loacation) {
            $("#ID3").val(txt_id);
            $("#material3").val(txt_mahang);
            $("#palletid").val(txt_pallet);
            $("#storageMCS").val(txt_loacation);

            var data = { _id: txt_id };

            $.ajax({
                type: "POST",
                contentType: "application/json; charset=utf-8",
                url: "Normalinspection.aspx/checkreturnMCS",
                data: JSON.stringify(data),
                dataType: "json",
                success: function (data) {
                    //var str_ = data.d;  
                    if (data.d == "OK") {
                        $('#myModal3').modal('show');
                    } else {
                        alert("Item has returned MCS stock!");
                    }
                },
                error: function () {
                }
            });
        }

        function openEditModal4(txt_id, txt_mahang, txt_pallet) {
            $("#ID4").val(txt_id);
            $("#material4").val(txt_mahang);
            $("#palletid4").val(txt_pallet);

            $('#myModal4').modal('show');

            //var data = { _id: txt_id };

            //$.ajax({
            //    type: "POST",
            //    contentType: "application/json; charset=utf-8",
            //    url: "Normalinspection.aspx/checkreturnMCS",
            //    data: JSON.stringify(data),
            //    dataType: "json",
            //    success: function (data) {
            //        //var str_ = data.d;  
            //        if (data.d == "OK") {
            //            $('#myModal3').modal('show');
            //        } else {
            //            alert("Item has returned MCS stock!");
            //        }
            //    },
            //    error: function () {                    
            //    }
            //});                                                        
        }

        function openEditModal(txt_id, txt_mahang, txt_vitri, txt_soluong, txt_invoice) {
            $("#idcheck").val(txt_id);
            $("#material").val(txt_mahang);
            $("#location").val(txt_vitri);
            $("#Qty").val(txt_soluong);
            $("#Invoice").val(txt_invoice);
            //$("#document_path").val(txt_path);

            $("#Qtysmaple").val("0");
            $("#Qtytest").val("0");

            //$("#MainContent_Drop_Role").val(dr_role);
            //$('h4.modal-title').text('Edit User');
            //$("#test").text("");
            $("#openfile").css("display", "none");
            //$("#dr_TypeChek").val("==Select==");
            var data = { material: txt_mahang };
            $.ajax({
                type: "POST",
                contentType: "application/json; charset=utf-8",
                url: "Normalinspection.aspx/GetNormalCheck",
                data: JSON.stringify(data),
                dataType: "json",
                success: function (data) {
                    var str_ = data.d;
                    var catchuoi = str_.split(",");
                    var thongbao = catchuoi[1];
                    if (catchuoi[0] === "1") {
                        $("#_comment2").text("Reliability testing !");
                        $("#_comment").text("Type check :" + thongbao);
                        $("#_comment").css("color", "#FF0000");

                        $("#_documnet2").text("");
                        $("#_documnet").text("");
                    } else if (catchuoi[0] === "2") {
                        //alert(""+thongbao);  //_documnet
                        $("#_documnet2").text("Have WI document follow this path!");
                        $("#_documnet").text(thongbao);
                        $("#_documnet").css("color", "#FF0000");

                        $("#openfile").css("display", "block");

                        $("#_comment2").text("");
                        $("#_comment").text("");
                    } else {
                        $("#_documnet2").text("No Mater");
                        $("#_documnet").text("");
                        $("#_comment2").text("");
                        $("#_comment").text("");
                    }

                },
                error: function () {
                    //$("#MainContent_txt_makercode").select();
                    //$("#MainContent_txt_makercode").val('Không tìm thấy maker code, kiểm tra lại thông tin nhựa và Part');
                    //$("#MainContent_txt_makercode").select();
                }
            });

            $('#myModal').modal('show');
        }


    </script>

    <script src="/plugins/jquery/jquery-ui.js"></script>
    <script type="text/javascript">
        $(function () {
            var onlyDate, today = new Date();
            var dateNewFormat = '';

            onlyDate = today.getDate();
            if (onlyDate.toString().length == 2) {

                dateNewFormat = onlyDate;
            }
            else {
                dateNewFormat = '0' + onlyDate;
            }

            dateNewFormat = dateNewFormat + '-';

            if (today.getMonth().length == 2) {

                dateNewFormat += (today.getMonth() + 1);
            }
            else {
                dateNewFormat += '0' + (today.getMonth() + 1);
            }

            dateNewFormat = dateNewFormat + '-' + today.getFullYear();
            //dateNewFormat = today.getFullYear() + '-';

            $('#datepicker').val(dateNewFormat);

            $("#datepicker").datepicker({ dateFormat: 'dd-mm-yy' });
        });
    </script>



</body>
</html>
