<%@ Page Language="C#" AutoEventWireup="true" CodeBehind="RoshInspection.aspx.cs" Inherits="FreeLayout.QCC.RoshInspection" %>

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title>Rosh Inspection</title>
    <link rel="stylesheet" href="/plugins/fontawesome-free/css/all.min.css" />
    <link rel="stylesheet" href="/plugins/datatables-bs4/css/dataTables.bootstrap4.min.css" />
    <link rel="stylesheet" href="/plugins/datatables-responsive/css/responsive.bootstrap4.min.css" />
    <link rel="stylesheet" href="/dist/css/adminlte.min.css" />

    <link rel="stylesheet" href="/plugins/toastr/toastr.css" />
    <%--<link rel="stylesheet" href="/plugins/toastr/toastr.min.css" />--%>
    <script src="/plugins/jquery/jquery.min.js"></script>
    <script src="/plugins/toastr/toastr.js"></script>


    <link rel="stylesheet" href="/plugins/fontawesome-free/css/jquery-ui.css" />

</head>
<body>
    <form id="form1" runat="server">
        <div class="card">
            <div class="card-header">
                <h1>Material list to check for Rosh Inspection</h1>
                <%--class="card-title"--%>
                <div class="col-sm-12">
                    Delivery Date:
                                    <input type="text" id="datepicker" runat="server">
                    <button class="btn btn-primary" type="button">
                        <i class="fa fa-fw fa-lg fa-search"></i>Filter</button>


                    <button type="button" class="btn" style="margin-left: 50px; background-color: #EEEEEE">
                        Checking
                    </button>
                    <button type="button" class="btn" style="margin-left: 20px; background-color: #FFFF99">
                        Waiting
                    </button>
                    <button type="button" class="btn" style="margin-left: 20px; background-color: #66FF33">
                        Finished OK
                    </button>
                    <button type="button" class="btn" style="margin-left: 20px; background-color: #99FFFF">
                        Finished NG
                    </button>

                    <button type="button" class="btn btn-primary" runat="server" onserverclick="Filter_All_Click_rosh">
                        Filter All
                    </button>

                </div>

                <%--<div class="col-md-1" style="float: left">
                    <div class="form-group">
                        <label for="Group">Filter Item Status</label>
                        <asp:DropDownList ID="dr_filter_qc" runat="server"
                            AppendDataBoundItems="true"
                            DataTextField="NameFilter"
                            DataValueField="NameFilter"
                            CssClass="custom-select custom-select-sm form-control form-control-sm">
                        </asp:DropDownList>
                    </div>
                </div>--%>

                <div class="col-md-3" style="float: left">
                    <div class="form-group">
                        <label for="Group">Filter Category</label>
                        <asp:DropDownList ID="dr_filter_cate" runat="server"
                            AppendDataBoundItems="true"
                            DataTextField="NameFilter"
                            DataValueField="NameFilter"
                            CssClass="custom-select custom-select-sm form-control form-control-sm">
                        </asp:DropDownList>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">

            <table id="example1" class="table table-bordered table-hover table-condensed">
                <thead>
                    <tr>
                        <th>No</th>
                        <th>Lot date</th>
                        <th>Invoice</th>
                        <th>Vendor Name</th>
                        <th>Category</th>
                        <th>Part No</th>
                        <th>Plan</th>
                        <th>Lot Q'ty</th>
                        <th>Receiving Time MCS</th>
                        <th>QC-check Time</th>
                        <th>Check OK Time</th>
                        <th>Free location (Pallet)</th>
                        <%-- <th>Storing time</th>--%>
                        <th>Location store</th>
                        <th>Remark</th>

                        <th>Mode</th>
                        <th>Level</th>

                        <th>Q'ty Sampling</th>
                        <th>Sample position</th>

                        <th>Testing kind</th>
                        <th>Q'ty test</th>
                        <th>IQC Checking sittuation</th>
                        <th>Qty NG</th>
                        <th>Defect</th>
                        <%--<th></th>
                        <th></th>
                        <th></th>--%>
                        <%--<th></th>--%>
                    </tr>
                </thead>
                <tbody>
                    <%int i = 0; %>
                    <%foreach (System.Data.DataRow rows in dt.Rows)
                        {%>
                    <%i++;%>


                    <%if (rows[13].ToString() == "pending")
                        {%>
                    <%if (rows[15].ToString() == "Urgent")
                        {%>
                    <tr style="background-color: #EEEEEE">
                        <td><%=i %></td>
                        <td><%=rows[20].ToString() %></td>
                        <td><%=rows[6].ToString() %></td>
                        <td><%=rows[4].ToString() %></td>
                        <td><%=rows[32].ToString() %></td>
                        <td>
                            <%=rows[1].ToString() %><br /> 
                            <a href="#" title="Check item" id="<%= rows[0].ToString() %>" onclick="openEditModal('<%= rows[0].ToString() %>','<%= rows[1].ToString() %>','<%= rows[2].ToString() %>','<%= rows[5].ToString() %>','<%= rows[6].ToString() %>','<%= rows[30].ToString() %>','<%= rows[31].ToString() %>','1')">
                                <i style="width:50px;" class="fas fa-pencil-alt"></i>
                            </a>
                            <a href="#" title="Finished" onclick="openEditModal2('<%= rows[0].ToString() %>','<%= rows[1].ToString() %>','0')">
                                <i style="width:60px;" class="fas fa-save"></i></a>                            
                        </td>
                        <td><%=rows[3].ToString() %></td>
                        <td><%=rows[5].ToString() %></td>
                        <td><%=rows[11].ToString() %></td>
                        <td><%=rows[16].ToString() %></td>
                        <td><%=rows[17].ToString() %></td>
                        <td><%=rows[2].ToString() %></td>
                        <%-- <td>time MCS2</td>--%>
                        <td><%=rows[27].ToString() %></td>
                        <td><%=rows[15].ToString() %><i class="far fa-bell"></i></td>
                        <td></td>
                        <td></td>
                        <td><%=rows[26].ToString() %></td>
                        <td><%=rows[25].ToString() %></td>
                        <td><%=rows[22].ToString() %></td>
                        <td><%=rows[19].ToString() %></td>
                        <td><%=rows[18].ToString() %></td>
                        <td><%=rows[23].ToString() %></td>
                        <td><%=rows[24].ToString() %></td>
                        <%--<td>
                            <a href="#" title="Check item"><i class="fas fa-pencil-alt"></i></a>
                        </td>
                        <td>
                            <a href="#" title="Finished" onclick="openEditModal2('<%= rows[0].ToString() %>','<%= rows[1].ToString() %>','0')">
                                <i class="fas fa-save"></i></a>
                        </td>
                        <td>
                            <a href="#" title="Remove check"><i class="far fa-trash-alt"></i></a>
                        </td>--%>
                        <%-- <td>
                            <a href="#" title="return stock MCS"><i class="fas fa-sync-alt" ></i></a>
                        </td>--%>
                    </tr>
                    <%} %>
                    <%else
                        { %>
                    <tr style="background-color: #EEEEEE">
                        <td><%=i %></td>
                        <td><%=rows[20].ToString() %></td>
                        <td><%=rows[6].ToString() %></td>
                        <td><%=rows[4].ToString() %></td>
                        <td><%=rows[32].ToString() %></td>
                        <td>
                            <%=rows[1].ToString() %><br /> 
                            <a href="#" title="Check item" id="<%= rows[0].ToString() %>" onclick="openEditModal('<%= rows[0].ToString() %>','<%= rows[1].ToString() %>','<%= rows[2].ToString() %>','<%= rows[5].ToString() %>','<%= rows[6].ToString() %>','<%= rows[30].ToString() %>','<%= rows[31].ToString() %>','1')">
                                <i style="width:50px;" class="fas fa-pencil-alt"></i>
                            </a>
                            <a href="#" title="Finished" onclick="openEditModal2('<%= rows[0].ToString() %>','<%= rows[1].ToString() %>','0')">
                                <i style="width:60px;" class="fas fa-save"></i>
                            </a>                            
                        </td>
                        <td><%=rows[3].ToString() %></td>
                        <td><%=rows[5].ToString() %></td>
                        <td><%=rows[11].ToString() %></td>
                        <td><%=rows[16].ToString() %></td>
                        <td><%=rows[17].ToString() %></td>
                        <td><%=rows[2].ToString() %></td>
                        <%--<td>time MCS2</td>--%>
                        <td><%=rows[27].ToString() %></td>
                        <td><%=rows[15].ToString() %></td>
                        <td></td>
                        <td></td>
                        <td><%=rows[26].ToString() %></td>
                        <td><%=rows[25].ToString() %></td>
                        <td><%=rows[22].ToString() %></td>
                        <td><%=rows[19].ToString() %></td>
                        <td><%=rows[18].ToString() %></td>
                        <td><%=rows[23].ToString() %></td>
                        <td><%=rows[24].ToString() %></td>
                        <%--<td>
                            <a href="#" title="Check item"><i class="fas fa-pencil-alt"></i></a>
                        </td>
                        <td>
                            <a href="#" title="Finished" onclick="openEditModal2('<%= rows[0].ToString() %>','<%= rows[1].ToString() %>','0')"><i class="fas fa-save"></i></a>
                        </td>
                        <td>
                            <a href="#" title="Remove check"><i class="far fa-trash-alt"></i></a>
                        </td>--%>
                        <%-- <td>
                            <a href="#" title="return stock MCS"><i class="fas fa-sync-alt" ></i></a>
                        </td>--%>
                    </tr>
                    <%} %>
                    <%} %>

                    <%else if (rows[13].ToString() == "finished")
                        {%>

                    <%if (rows[18].ToString() == "OK")
                        {%>
                    <tr style="background-color: #66FF33">
                        <td><%=i %></td>
                        <td><%=rows[20].ToString() %></td>
                        <td><%=rows[6].ToString() %></td>
                        <td><%=rows[4].ToString() %></td>
                        <td><%=rows[32].ToString() %></td>
                        <td>
                            <%=rows[1].ToString() %><br />                            
                            <a href="#" title="Finished" onclick="openEditModal2('<%= rows[0].ToString() %>','<%= rows[1].ToString() %>','1')">
                                <i style="width:60px;" class="fas fa-save"></i>
                            </a>                            
                        </td>
                        <td><%=rows[3].ToString() %></td>
                        <td><%=rows[5].ToString() %></td>
                        <td><%=rows[11].ToString() %></td>
                        <td><%=rows[16].ToString() %></td>
                        <td><%=rows[17].ToString() %></td>
                        <td><%=rows[2].ToString() %></td>
                        <%--<td>time MCS2</td>--%>
                        <td><%=rows[27].ToString() %></td>
                        <td><%=rows[15].ToString() %></td>
                        <td></td>
                        <td></td>
                        <td><%=rows[26].ToString() %></td>
                        <td><%=rows[25].ToString() %></td>
                        <td><%=rows[22].ToString() %></td>
                        <td><%=rows[19].ToString() %></td>
                        <td><%=rows[18].ToString() %></td>
                        <td><%=rows[23].ToString() %></td>
                        <td><%=rows[24].ToString() %></td>
                        <%--<td>
                            <a href="#" title="Check item"><i class="fas fa-pencil-alt"></i></a>
                        </td>
                        <td>
                            <a href="#" title="Finished" onclick="openEditModal2('<%= rows[0].ToString() %>','<%= rows[1].ToString() %>','1')"><i class="fas fa-save"></i></a>
                        </td>
                        <td>
                            <a href="#" title="Remove check"><i class="far fa-trash-alt"></i></a>
                        </td>--%>
                        <%-- <td>
                            <a href="#" title="return stock MCS" onclick="openEditModal3('<%= rows[0].ToString() %>','<%= rows[1].ToString() %>','<%= rows[2].ToString() %>','<%= rows[27].ToString() %>')">
                                <i class="fas fa-sync-alt" ></i>
                            </a>
                        </td>--%>
                    </tr>
                    <%} %>
                    <%else
                        {%>
                    <tr style="background-color: #99FFFF">
                        <td><%=i %></td>
                        <td><%=rows[20].ToString() %></td>
                        <td><%=rows[6].ToString() %></td>
                        <td><%=rows[4].ToString() %></td>
                        <td><%=rows[32].ToString() %></td>
                        <td>
                            <%=rows[1].ToString() %><br />
                            <a href="#" title="Finished" onclick="openEditModal2('<%= rows[0].ToString() %>','<%= rows[1].ToString() %>','1')">
                                <i style="width:60px;" class="fas fa-save"></i>
                            </a>                            
                        </td>
                        <td><%=rows[3].ToString() %></td>
                        <td><%=rows[5].ToString() %></td>
                        <td><%=rows[11].ToString() %></td>
                        <td><%=rows[16].ToString() %></td>
                        <td><%=rows[17].ToString() %></td>
                        <td><%=rows[2].ToString() %></td>
                        <%--<td>time MCS2</td>--%>
                        <td><%=rows[27].ToString() %></td>
                        <td><%=rows[15].ToString() %></td>
                        <td></td>
                        <td></td>
                        <td><%=rows[26].ToString() %></td>
                        <td><%=rows[25].ToString() %></td>
                        <td><%=rows[22].ToString() %></td>
                        <td><%=rows[19].ToString() %></td>
                        <td><%=rows[18].ToString() %></td>
                        <td><%=rows[23].ToString() %></td>
                        <td><%=rows[24].ToString() %></td>
                        <%--<td>
                            <a href="#" title="Check item"><i class="fas fa-pencil-alt"></i></a>
                        </td>
                        <td>
                            <a href="#" title="Finished" onclick="openEditModal2('<%= rows[0].ToString() %>','<%= rows[1].ToString() %>','1')"><i class="fas fa-save"></i></a>
                        </td>
                        <td>
                            <a href="#" title="Remove check"><i class="far fa-trash-alt"></i></a>
                        </td>--%>
                        <%-- <td>
                            <a href="#" title="return stock MCS" onclick="openEditModal3('<%= rows[0].ToString() %>','<%= rows[1].ToString() %>','<%= rows[2].ToString() %>','<%= rows[27].ToString() %>')">
                                <i class="fas fa-sync-alt" ></i>
                            </a>
                        </td>--%>
                    </tr>

                    <%} %>



                    <%} %>

                    <%else
                        {%>
                    <%if (rows[15].ToString() == "Urgent")
                        {%>
                    <tr style="background-color: #FF0000">
                        <td><%=i %></td>
                        <td><%=rows[20].ToString() %></td>
                        <td><%=rows[6].ToString() %></td>
                        <td><%=rows[4].ToString() %></td>
                        <td><%=rows[32].ToString() %></td>
                        <td>
                            <a href="/Main.aspx?material=<%=rows[1].ToString() %>" target="_blank"><%=rows[1].ToString() %></a><br />
                            <a href="#" title="Check item" id="<%= rows[0].ToString() %>" onclick="openEditModal('<%= rows[0].ToString() %>','<%= rows[1].ToString() %>','<%= rows[2].ToString() %>','<%= rows[5].ToString() %>','<%= rows[6].ToString() %>','<%= rows[30].ToString() %>','<%= rows[31].ToString() %>','0')">
                                <i style="width:60px;" class="fas fa-pencil-alt"></i>
                            </a>                            
                            <a href="#" title="Remove check" onclick="openEditModal4('<%= rows[0].ToString() %>','<%= rows[1].ToString() %>','<%= rows[2].ToString() %>')"><i class="far fa-trash-alt"></i></a>
                        </td>
                        <td><%=rows[3].ToString() %></td>
                        <td><%=rows[5].ToString() %></td>
                        <td><%=rows[11].ToString() %></td>
                        <td><%=rows[16].ToString() %></td>
                        <td><%=rows[17].ToString() %></td>
                        <td><%=rows[2].ToString() %></td>
                        <%-- <td>time MCS2</td>--%>
                        <td><%=rows[27].ToString() %></td>
                        <td><b style="color:red"><%=rows[15].ToString() %></b><i class="far fa-bell"></i></td>
                        <td></td>
                        <td></td>
                        <td><%=rows[26].ToString() %></td>
                        <td><%=rows[25].ToString() %></td>
                        <td><%=rows[22].ToString() %></td>
                        <td><%=rows[19].ToString() %></td>
                        <td><%=rows[18].ToString() %></td>
                        <td><%=rows[23].ToString() %></td>
                        <td><%=rows[24].ToString() %></td>
                        <%--<td>
                            <a href="#" title="Check item" id="<%= rows[0].ToString() %>" onclick="openEditModal('<%= rows[0].ToString() %>','<%= rows[1].ToString() %>','<%= rows[2].ToString() %>','<%= rows[5].ToString() %>','<%= rows[6].ToString() %>','<%= rows[30].ToString() %>','<%= rows[31].ToString() %>')">
                                <i class="fas fa-pencil-alt"></i>
                            </a>
                        </td>
                        <td>
                            <a href="#" title="Finished">
                                <i class="fas fa-save"></i>
                            </a>
                        </td>
                        <td>
                            <a href="#" title="Remove check" onclick="openEditModal4('<%= rows[0].ToString() %>','<%= rows[1].ToString() %>','<%= rows[2].ToString() %>')"><i class="far fa-trash-alt"></i></a>
                        </td>--%>
                        <%--<td>
                            <a href="#" title="return stock MCS"><i class="fas fa-sync-alt" ></i></a>
                        </td>--%>
                    </tr>
                    <%} %>
                    <%else
                        { %>
                    <tr style="background-color: #FFFF99">
                        <td><%=i %></td>
                        <td><%=rows[20].ToString() %></td>
                        <td><%=rows[6].ToString() %></td>
                        <td><%=rows[4].ToString() %></td>
                        <td><%=rows[32].ToString() %></td>
                        <td>
                            <a href="/Main.aspx?material=<%=rows[1].ToString() %>" target="_blank"><%=rows[1].ToString() %></a><br />
                            <a href="#" title="Check item" id="<%= rows[0].ToString() %>" onclick="openEditModal('<%= rows[0].ToString() %>','<%= rows[1].ToString() %>','<%= rows[2].ToString() %>','<%= rows[5].ToString() %>','<%= rows[6].ToString() %>','<%= rows[30].ToString() %>','<%= rows[31].ToString() %>','0')">
                                <i style="width:60px;" class="fas fa-pencil-alt"></i>
                            </a>                            
                            <a href="#" title="Remove check" onclick="openEditModal4('<%= rows[0].ToString() %>','<%= rows[1].ToString() %>','<%= rows[2].ToString() %>')"><i class="far fa-trash-alt"></i></a>                                        
                        </td>
                        <td><%=rows[3].ToString() %></td>
                        <td><%=rows[5].ToString() %></td>
                        <td><%=rows[11].ToString() %></td>
                        <td><%=rows[16].ToString() %></td>
                        <td><%=rows[17].ToString() %></td>
                        <td><%=rows[2].ToString() %></td>
                        <%--<td>time MCS2</td>--%>
                        <td><%=rows[27].ToString() %></td>
                        <td><b style="color:red"><%=rows[15].ToString() %></b></td>
                        <td></td>
                        <td></td>
                        <td><%=rows[26].ToString() %></td>
                        <td><%=rows[25].ToString() %></td>
                        <td><%=rows[22].ToString() %></td>
                        <td><%=rows[19].ToString() %></td>
                        <td><%=rows[18].ToString() %></td>
                        <td><%=rows[23].ToString() %></td>
                        <td><%=rows[24].ToString() %></td>
                       <%-- <td>
                            <a href="#" title="Check item" id="<%= rows[0].ToString() %>" onclick="openEditModal('<%= rows[0].ToString() %>','<%= rows[1].ToString() %>','<%= rows[2].ToString() %>','<%= rows[5].ToString() %>','<%= rows[6].ToString() %>','<%= rows[30].ToString() %>','<%= rows[31].ToString() %>')">
                                <i class="fas fa-pencil-alt"></i>
                            </a>
                        </td>
                        <td>
                            <a href="#" title="Finished"><i class="fas fa-save"></i></a>
                        </td>
                        <td>
                            <a href="#" title="Remove check" onclick="openEditModal4('<%= rows[0].ToString() %>','<%= rows[1].ToString() %>','<%= rows[2].ToString() %>')"><i class="far fa-trash-alt"></i></a>
                        </td>--%>
                        <%--<td>
                            <a href="#" title="return stock MCS"><i class="fas fa-sync-alt" ></i></a>
                        </td>--%>
                    </tr>

                    <%} %>


                    <%} %>



                    <%} %>
                </tbody>
            </table>


        </div>


        <div class="modal" id="myModal">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <div class="row">
                            <div>
                                <h4 class="modal-title" id="headerTag" style="float: left">Inspection Cargo (Rosh)</h4>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="float: right; margin-left: 300px;">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="col-md-12">
                                <label for="Group" id="_comment2" runat="server"></label>
                                <label for="Group" id="_documnet2" runat="server"></label>
                            </div>
                            <div class="col-md-12">
                                <label for="Group" id="_comment" runat="server"></label>
                                <%-- <label for="Group" id="_documnet" runat="server"></label>--%>
                                <%-- <input type="text" value="" id="myInput" style="display: none" >--%>
                                <asp:TextBox ID="txtcp" runat="server" Width="100%" TextMode="MultiLine" value="" CssClass="ddl_Class_new"></asp:TextBox>

                                <%-- <button type="button" id="openfile" class="btn btn-primary" runat="server"  onserverclick="openfile_Click">Open file</button>--%>
                                <%--<button type="button" class="btn btn-primary" id="openfile" onclick="mycopy()">Copy Link</button>--%>
                                <%--asp:Button ID="openfile" class="btn btn-primary" runat="server" Text="Copy text" OnClientClick="myFunction();" />--%>

                                <button type="button" id="openfile" class="btn btn-primary" onclick="myFunction();">Copy Link</button>


                            </div>
                        </div>
                    </div>

                    <%-- Modal footer --%>
                    <div class="modal-body">
                        <div class="container-fluid">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="ID">ID</label>
                                        <span style="color: green; font-size: 11px; font-style: italic;">(Read only)</span>
                                        <asp:TextBox ID="idcheck" CssClass="form-control" placeholder="ID" runat="server"></asp:TextBox>
                                        <%--onserverclick="btnAddClick"--%>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="exampleInputEmail1">Material</label>
                                        <asp:TextBox ID="material" CssClass="form-control" placeholder="Material" runat="server"></asp:TextBox>
                                        <%-- end add Modal --%>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="exampleInputEmail1">Location</label>
                                        <asp:TextBox ID="location" CssClass="form-control" placeholder="location" runat="server"></asp:TextBox>
                                        <%-- The edit Modal --%>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="exampleInputEmail1">Invoice</label>
                                        <asp:TextBox ID="Invoice" CssClass="form-control" placeholder="Invoice" runat="server"></asp:TextBox>

                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="exampleInputEmail1">Qty Lot Receiving MCS </label>
                                        <asp:TextBox ID="Qty" CssClass="form-control" placeholder="Qty" runat="server"></asp:TextBox>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="exampleInputEmail1">Weight of JIG</label>
                                        <asp:TextBox ID="txtweightofjig" CssClass="form-control" placeholder="" runat="server"></asp:TextBox>
                                    </div>
                                </div>


                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="Group">Total Cycles</label>
                                        <asp:TextBox ID="txttotalcycle" CssClass="form-control" placeholder="" runat="server"></asp:TextBox>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="Group">Qty Sample</label>
                                        <span style="color: red; font-size: 11px; font-style: italic;">You have to select!(*)</span>
                                        <asp:TextBox ID="Qtysmaple" CssClass="form-control" placeholder="Qty Sample" runat="server"></asp:TextBox>
                                        <%-- <asp:DropDownList ID="dr_TypeChek" runat="server" AppendDataBoundItems="true" CssClass="form-control">
                                            </asp:DropDownList>--%>
                                    </div>
                                </div>

                            </div>


                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <%-- <label for="Group" id="test" runat="server"></label>--%>
                                        <label for="Group">Qty Testing</label>
                                        <span style="color: red; font-size: 11px; font-style: italic;">You have to select!(*)</span>
                                        <asp:TextBox ID="Qtytest" CssClass="form-control" placeholder="Qty Testing" runat="server"></asp:TextBox>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="Group">UserID</label>
                                        <span style="color: red; font-size: 11px; font-style: italic;">You must to select!(*)</span>
                                        <asp:TextBox ID="txtusercheck" CssClass="form-control" placeholder="" runat="server"></asp:TextBox>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <label for="Group" id="thongbaochiasoluong" runat="server"></label>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group" id="combine">
                                        <asp:RadioButton ID="idcombine" GroupName="Passport" runat="server" Checked="true" /> YES                                         
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group" id="notcombine">
                                       <asp:RadioButton ID="idnotcombine" GroupName="Passport" runat="server" Checked="false" /> NO
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <%--<input runat="server" type="text" class="form-control" name="username" placeholder="Enter user name">--%>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-dismiss="modal" id="btnclose2"><i class="fas fa-times"></i>Close</button>
                        <button type="button" runat="server" id="btnadd" onserverclick="BtnAddClickRosh" class="btn btn-primary"><i class="fas fa-download"></i>Save</button>
                        <%--<input runat="server" type="text" class="form-control" name="fullname" placeholder="Enter full name">--%>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal" id="myModal2">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <div class="row">
                            <div>
                                <h4 class="modal-title" id="headerTag" style="float: left">Select Ok / NG Rosh)</h4>

                                <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="float: right; margin-left: 300px;">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>

                        </div>
                    </div>

                    <%-- Modal footer --%>
                    <div class="modal-body">
                        <div class="container-fluid">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="ID">ID</label>
                                        <span style="color: green; font-size: 11px; font-style: italic;">(Read only)</span>
                                        <asp:TextBox ID="ID2" CssClass="form-control" placeholder="ID" runat="server"></asp:TextBox>
                                        <%--onserverclick="btnAddClick"--%>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="exampleInputEmail1">Material</label>
                                        <asp:TextBox ID="Material2" CssClass="form-control" placeholder="Material" runat="server"></asp:TextBox>
                                        <%-- end add Modal --%>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="QtyNG">Qty NG</label>
                                        <asp:TextBox ID="_QTYNG" CssClass="form-control" placeholder="" runat="server"></asp:TextBox>
                                        <%--onserverclick="btnAddClick"--%>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="exampleInputEmail1">Error Name</label>
                                        <asp:TextBox ID="namemistake" CssClass="form-control" placeholder="" runat="server"></asp:TextBox>
                                        <%-- end add Modal --%>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="QtyNG">UserID</label>
                                        <span style="color: red; font-size: 11px; font-style: italic;">You must input!(*)</span>
                                        <asp:TextBox ID="txtuserfinished" CssClass="form-control" placeholder="" runat="server"></asp:TextBox>
                                        <%--onserverclick="btnAddClick"--%>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <asp:RadioButton ID="RadioButton1" GroupName="Passport" Text="OK" runat="server" Checked="true" onclick="ShowHideDiv()" />
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <asp:RadioButton ID="RadioButton2" GroupName="Passport" Text="NG" runat="server" onclick="ShowHideDiv()" />
                                        <div id="dvPassport" style="display: none">
                                            go<input type="text" id="txtPassportNumber" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <%--<input runat="server" type="text" class="form-control" name="username" placeholder="Enter user name">--%>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-dismiss="modal"><i class="fas fa-times"></i>Close</button>
                        <button type="button" runat="server" id="Button1" onserverclick="BtnFinishRosh" class="btn btn-primary"><i class="fas fa-download"></i>Save</button>
                        <%--<input runat="server" type="text" class="form-control" name="fullname" placeholder="Enter full name">--%>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal" id="myModal4">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <div class="row">
                            <div>
                                <h4 class="modal-title" id="headerTag" style="float: left">Do you want to delete item check? (Type Rosh) </h4>

                                <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="float: right; margin-left: 300px;">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>

                        </div>
                    </div>

                    <%-- Modal footer --%>
                    <div class="modal-body">
                        <div class="container-fluid">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="ID">ID</label>
                                        <span style="color: green; font-size: 11px; font-style: italic;">(Read only)</span>
                                        <asp:TextBox ID="ID4" CssClass="form-control" placeholder="" runat="server"></asp:TextBox>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="exampleInputEmail1">Material</label>
                                        <asp:TextBox ID="material4" CssClass="form-control" placeholder="" runat="server"></asp:TextBox>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="QtyNG">Pallet ID</label>
                                        <asp:TextBox ID="palletid4" CssClass="form-control" placeholder="" runat="server"></asp:TextBox>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="exampleInputEmail1">UserID</label>
                                        <span style="color: red; font-size: 11px; font-style: italic;">You must input!(*)</span>
                                        <asp:TextBox ID="txtuseridxoa" CssClass="form-control" placeholder="" runat="server"></asp:TextBox>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-dismiss="modal"><i class="fas fa-times"></i>Close</button>
                        <button type="button" runat="server" id="btnremoveitem" onserverclick="BtnRemoveItemRosh" class="btn btn-primary">
                            <i class="fas fa-download"></i>
                            Save
                        </button>
                    </div>
                </div>
            </div>
        </div>


    </form>
    <script src="/plugins/jquery/jquery.min.js"></script>
    <script src="/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="/plugins/datatables/jquery.dataTables.min.js"></script>
    <script src="/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js"></script>
    <script src="/plugins/datatables-responsive/js/dataTables.responsive.min.js"></script>
    <script src="/plugins/datatables-responsive/js/responsive.bootstrap4.min.js"></script>
    <script src="/dist/js/adminlte.min.js"></script>
    <script src="/dist/js/demo.js"></script>

    <script type="text/javascript">
        $(document).ready(function () {
            $("#openfile").css("display", "none");
            $('#combine').css("display", "none");
            $('#notcombine').css("display", "none");

            //OK or NG deu nhap duoc het
            //$('#_QTYNG').prop("readonly", true);
            //$('#namemistake').prop("readonly", true);           

            $('#idcheck').prop("readonly", true);
            $('#material').prop("readonly", true);
            $('#material').prop("readonly", true);
            $('#location').prop("readonly", true);
            $('#Invoice').prop("readonly", true);
            $('#Qty').prop("readonly", true);

            $('#ID2').prop("readonly", true);
            $('#Material2').prop("readonly", true);

            $('#ID4').prop("readonly", true);
            $('#material4').prop("readonly", true);
            $('#palletid4').prop("readonly", true);


            $("#txtweightofjig").prop("readonly", true);
            $("#txttotalcycle").prop("readonly", true);

        });

        function ShowHideDiv() {
            var _OK = document.getElementById("<%=RadioButton1.ClientID %>");
            var dvPassport = document.getElementById("dvPassport");
            //dvPassport.style.display = chkYes.checked ? "block" : "none";

        }

        $('#btnclose2').click(function () {
            $('#combine').css("display", "none");
            $('#notcombine').css("display", "none");
        });

        $('#_QTYNG').on('keyup', function () {
            var val = $(this).val();
            if (isNaN(val)) {
                val = val.replace(/[^0-9\.]/g, '');
                if (val.split('.').length > 2)
                    val = val.replace(/\.+$/, "");
            }
            $(this).val(val);
        })

        $("#dr_filter_cate").change(function () {
            var cate = this.value;

            if (this.value === 'DP') {
                var _date = $("#datepicker").val();
                //alert(this.value);                    
                window.location.href = "RoshInspection.aspx?cate=" + cate;
            }
            else if (this.value === 'DECT') {
                //alert("DECT");
                window.location.href = "RoshInspection.aspx?cate=" + cate;
            }
            else if (this.value === 'PBX') {
                //alert("PBX");
                window.location.href = "RoshInspection.aspx?cate=" + cate;
            }
            else if (this.value === 'Projector') {
                //alert("Projector");
                window.location.href = "RoshInspection.aspx?cate=" + cate;
            }
            else {
                //khong lam gi
                //==select==
                window.location.href = "RoshInspection.aspx";
            }
        });

        $("#RadioButton2").change(function () {
            if ($(this).val() == "Yes") {
                //alert($(this).val());
                alert('true');
            }
            else {
                //alert('fail');
                //alert($(this).val());

                //$('#_QTYNG').prop("readonly", false);
                //$('#namemistake').prop("readonly", false);
                $('#_QTYNG').select();
            }
        });

        function openEditModal(txt_id, txt_mahang, txt_vitri, txt_soluong, txt_invoice, txt_weightofjig, txt_totalcycle,trangthai) {
            $("#idcheck").val(txt_id);
            $("#material").val(txt_mahang);
            $("#location").val(txt_vitri);
            $("#Qty").val(txt_soluong);
            $("#Invoice").val(txt_invoice);
            $("#txtweightofjig").val(txt_weightofjig);
            $("#txttotalcycle").val(txt_totalcycle);
          
            $("#openfile").css("display", "none");

            var data = { material: txt_mahang };
            $.ajax({
                type: "POST",
                contentType: "application/json; charset=utf-8",
                url: "RoshInspection.aspx/GetNormalCheck",
                data: JSON.stringify(data),
                dataType: "json",
                success: function (data) {
                    var str_ = data.d;
                    var catchuoi = str_.split(",");
                    var thongbao = catchuoi[1];
                    if (catchuoi[0] === "1") {
                        $("#_comment2").text("Reliability testing !");
                        $("#_comment").text("Type check :" + thongbao);
                        $("#_comment").css("color", "#FF0000");

                        $("#_documnet2").text("");
                        //$("#_documnet").text("");
                        $("#txtcp").css("display", "none");
                    } else if (catchuoi[0] === "2") {
                        //alert(""+thongbao);  //_documnet
                        $("#_documnet2").text("Have WI document follow this path!");
                        //$("#_documnet").text(thongbao);
                        //$("#_documnet").css("color", "#FF0000");
                        //$("#myInput").val(thongbao);
                        $("#txtcp").css("display", "block");
                        $("#txtcp").val(thongbao);


                        $("#openfile").css("display", "block");

                        $("#_comment2").text("");
                        $("#_comment").text("");
                    } else {
                        $("#_documnet2").text("No Mater");
                        //$("#_documnet").text("");
                        $("#_comment2").text("");
                        $("#_comment").text("");
                        $("#txtcp").css("display", "none");
                    }

                },
                error: function () {
                    //$("#MainContent_txt_makercode").select();
                    //$("#MainContent_txt_makercode").val('Không tìm thấy maker code, kiểm tra lại thông tin nhựa và Part');
                    //$("#MainContent_txt_makercode").select();
                }
            });

            var data = { _id: txt_id };
            if (trangthai == "0") {
                $("#Qtysmaple").val("0");
                $("#Qtytest").val("0");

                $.ajax({
                    type: "POST",
                    contentType: "application/json; charset=utf-8",
                    url: "RoshInspection.aspx/checkcombine_qty",
                    data: JSON.stringify(data),
                    dataType: "json",
                    success: function (data) {
                        if (data.d == "OK") {
                            //dua ra thong hang bi tach pallet.
                            //ban can phai lay du so luong test chua? => chon option de gop cac pallet
                            //chuyen all sang trang thai check khi lay du so luong   
                            //*****
                            $("#idcombine").prop('checked', true);

                            $('#thongbaochiasoluong').text("Item is separated, do you want to check all when you input enough Qty?");
                            $('#thongbaochiasoluong').css("color", "#FF0000");
                            $('#combine').css("display", "block");
                            $('#notcombine').css("display", "block");
                            //$('#myModal').modal('show');
                        } else {
                            //alert("nothing!");
                            $('#thongbaochiasoluong').text("");
                        }
                    },
                    error: function () {
                    }
                });
                $('#myModal').modal('show');
            }
            else
            {
                //var data = { _id: txt_id };
                $.ajax({
                    type: "POST",
                    contentType: "application/json; charset=utf-8",
                    url: "RoshInspection.aspx/getQTYCheckRosh",
                    data: JSON.stringify(data),
                    dataType: "json",
                    success: function (data) {
                        var str_ = data.d;
                        var catchuoi = str_.split(",");
                        if (catchuoi[0] == "OK") {
                            //var soluogNG = catchuoi[0];
                            //var tenNG = catchuoi[1];
                            $('#Qtysmaple').val(catchuoi[1]);
                            $('#Qtytest').val(catchuoi[2]);
                            $('#myModal').modal('show');
                        } else {
                            //alert("nothing!");
                        }
                    },
                    error: function () {
                    }
                });
                $('#thongbaochiasoluong').text("");
            }
            //$("#Qtysmaple").val("0");
            //$("#Qtytest").val("0");
            //$('#myModal').modal('show');
        }

        function openEditModal2(txt_id, txt_mahang, trangthai) {
            $("#ID2").val(txt_id);
            $("#Material2").val(txt_mahang);

            $("#RadioButton1").prop('checked', true);
            //$('#_QTYNG').prop("readonly", true);
            //$('#namemistake').prop("readonly", true);


            if (trangthai == "0") {
                //giu nguyen chua co so luong NG can sua
                $('#_QTYNG').val('');
                $('#namemistake').val('');
                $('#myModal2').modal('show');
            }
            else {
                //trang thai == 1
                var data = { _id: txt_id };
                $.ajax({
                    type: "POST",
                    contentType: "application/json; charset=utf-8",
                    url: "RoshInspection.aspx/getQTYNG",
                    data: JSON.stringify(data),
                    dataType: "json",
                    success: function (data) {
                        var str_ = data.d;
                        var catchuoi = str_.split(",");
                        if (catchuoi[0] == "OK") {
                            //var soluogNG = catchuoi[0];
                            //var tenNG = catchuoi[1];
                            $('#_QTYNG').val(catchuoi[1]);
                            $('#namemistake').val(catchuoi[2]);
                            $('#myModal2').modal('show');

                        } else {
                            //alert("nothing!");
                        }
                    },
                    error: function () {
                    }
                });
            }

            //$('#myModal2').modal('show'); 

        }

        function openEditModal4(txt_id, txt_mahang, txt_pallet) {
            $("#ID4").val(txt_id);
            $("#material4").val(txt_mahang);
            $("#palletid4").val(txt_pallet);

            $('#myModal4').modal('show');

        }

        function myFunction() {
            /* Get the text field */
            var copyText = document.getElementById("txtcp");

            /* Select the text field */
            copyText.select();
            copyText.setSelectionRange(0, 99999); /* For mobile devices */

            /* Copy the text inside the text field */
            document.execCommand("copy");

            /* Alert the copied text */
            //alert("Copied the text: " + copyText.value);
        }

        $(function () {
            $("#example1").DataTable({
                "responsive": true,
                "autoWidth": false,
                //"order": [[7, "desc"]],
                "pageLength": 500
                //"ordering": true,
                //"paging": true,
                //"lengthChange": false,
                //"searching": false,
                //"info": true,                    
            });
        });

    </script>

    <script src="/plugins/jquery/jquery-ui.js"></script>
    <script type="text/javascript">
        $(function () {
            var onlyDate, today = new Date();
            var dateNewFormat = '';

            onlyDate = today.getDate();
            if (onlyDate.toString().length == 2) {

                dateNewFormat = onlyDate;
            }
            else {
                dateNewFormat = '0' + onlyDate;
            }

            dateNewFormat = dateNewFormat + '-';

            if (today.getMonth().length == 2) {

                dateNewFormat += (today.getMonth() + 1);
            }
            else {
                //dateNewFormat += '0' + (today.getMonth() + 1);
                dateNewFormat += (today.getMonth() + 1);
            }

            dateNewFormat = dateNewFormat + '-' + today.getFullYear();
            //dateNewFormat = today.getFullYear() + '-';

            $('#datepicker').val(dateNewFormat);

            $("#datepicker").datepicker({ dateFormat: 'dd-mm-yy' });
        });
    </script>

</body>
</html>
